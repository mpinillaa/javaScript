<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <style>
        span {
            display:none;
        }
		legend {color: #CC0033;
                font-weight: 600;
		}
        
        #precio {color: #222;
                font-weight: 600;
                line-height: 1.3;
                }
        
    </style>
 <script>
	function validar(){
		
     }
	 function cambiarColor (e){ 
		e.style.backgroundColor="beige";
	 }
	 function validarNomApel (e){ 
		let regex = /^[A-Za-z]*$/i;
		if (regex.test(e.value)){
			e.style.backgroundColor="white";
			return true
		}else{
			alert("subnormal")
			e.value="";  // te lo deja en blanco
			e.focus();  // te deja volver a escribir 
			return false;
		}

		}
	 
	 function validarFecha (e){ 
		var fechaActual = new Date();
		var fechaNacimiento = new Date(e.value);

		let regex = /^\d{4}-([0-9]|1[0-2])-([012]\d|3[01])$/g
		if (regex.test(e.value)){
			e.style.backgroundColor="white";

			if (fechaNacimiento > fechaActual){
			alert("la fecha no puede ser mayor a la actual");
			console.log("hola");
			return false;
		}

			return true

		}else{
			alert("subnormal")
			e.value="";  // te lo deja en blanco
			e.focus();  // te deja volver a escribir 
			return false;
		}

		
		
		
	 }
	 function calcularEdad (e){ 
		var fechaActual = new Date();
		var fechaNacimiento = new Date(e.value); // el e.value es para que se guarde la variable

		if (validarFecha(e)){
			var edad = fechaActual.getFullYear() - fechaNacimiento.getFullYear();

			var añoActual = fechaActual.getFullYear();
			var mesActual = fechaActual.getMonth();
			var diaActual = fechaActual.getDay();

			var añoNacimiento = fechaNacimiento.getFullYear();
			var mesNacimiento = fechaNacimiento.getMonth();
			var diaNacimiento = fechaNacimiento.getDay();

			if ((mesActual < mesNacimiento) || (mesActual==mesNacimiento) && (diaActual < diaNacimiento) ){
				años--;  // por si aun no ha cumplido años restarle uno
			}
		}


	//	document.getElementById("edad").value = edad;  //edad.value=años

	}
	 function validarDNI (e){ 
	
	}
	 function calcularRenovar(e){ 
	
	}
     </script>
    </head>
 <body>
<h1>CLUB DEL AUTOMOVIL</h1>
<h3>ALTA NUEVO SOCIO</h3>
<form>
<div>
    <fieldset>
	<legend>DATOS SOCIO</legend>

	Nombre &nbsp;&nbsp;<input type="text" id="nom"size=30
     	onfocus=" cambiarColor(this,'beige')"
		onchange=" validarNomApel(this)">
	<br><br>Apellidos <input type="text" id="ape"size=30
		onfocus="cambiarColor(this,'beige') " 
		onchange=" validarNomApel(this)">
	<br><br>Fecha Nacimiento  <input type="text" id=fecnac size=13 placeholder="aaaa-mm-dd"
		onfocus=" cambiarColor(this,'beige')"
		onchange=" validarFecha(this)"
		>&nbsp;&nbsp; Edad <input type="text" size=4 id="edad" readonly>
		 </fieldset>
	 <br>
	<fieldset>
    <legend>DATOS CARNET CONDUCIR </legend>
    Num Carnet <input type="text" id="carnet" size="15"
		onfocus=" "
		onchange=" "> &nbsp;&nbsp;
	Desde   <input type="text" size=13 id="desde" placeholder="aaaa-mm-dd"
		onfocus=" "
		onchange=" "> &nbsp;&nbsp;  
    Renovar   <input type="text"  size=13 id="renovar" readonly>  
	<input  type="button" value="CONTRATAR" onclick="validar()">  <br><br> 
 </div>
</form> 
<br>
<div id="todoOK"></div>
</body>
</html>
